<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Schedule Gua</title>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="https://kit.fontawesome.com/your-kit-code.js" crossorigin="anonymous"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        h1 {
            text-align: center;
            color: #2d3748;
            margin-bottom: 30px;
            font-size: 2.5em;
        }

        .schedule-form {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        input {
            flex: 1;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
        }

        button {
            padding: 12px 25px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        button:hover {
            background: #764ba2;
            transform: translateY(-2px);
        }

        .entries-container {
            background: white;
            border-radius: 10px;
            overflow: hidden;
        }

        .entry-row {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            border-bottom: 1px solid #e2e8f0;
            transition: all 0.3s ease;
            justify-content: space-between;
            position: relative;
        }

        .entry-row:hover {
            background: #f7fafc;
            transform: translateX(5px);
        }

        .time {
            width: 100px;
            font-weight: 600;
            color: #2d3748;
        }

        .activity {
            flex: 1;
            color: #4a5568;
            font-weight: 600;
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #667eea;
            border-radius: 4px;
        }

        .delete-btn {
            background: #fc8181;
            padding: 8px 15px;
            margin-left: 15px;
            order: 2;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .delete-btn:hover {
            background: #f56565;
        }

        .button-group {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 25px;
        }

        h1 {
            margin-bottom: 0;
        }

        .screenshot-btn {
            background: #4f46e5;
            padding: 12px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .screenshot-btn:hover {
            background: #4338ca;
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }

        .screenshot-btn i {
            font-size: 18px;
            margin-right: 8px;
        }

        .screenshot-btn::before {
            content: none;
        }

    </style>
</head>
<body>
    <div class="container">
        <div class="button-group">
            <h1>My Schedule Gua</h1>
            <button class="screenshot-btn" onclick="takeScreenshot()">
                <i class="fas fa-camera"></i>
                Download Screenshot
            </button>
        </div>
        
        <form class="schedule-form" id="scheduleForm">
            <input type="time" id="timeInput" required>
            <input type="text" id="activityInput" placeholder="Aktivitas..." required>
            <button type="submit">Tambah</button>
        </form>

        <div class="entries-container" id="entriesContainer">
        </div>
    </div>

    <script>
        const form = document.getElementById('scheduleForm');
        const entriesContainer = document.getElementById('entriesContainer');

        function saveToCookie() {
            const entries = [];
            document.querySelectorAll('.entry-row').forEach(entry => {
                entries.push({
                    time: entry.querySelector('.time').textContent,
                    activity: entry.querySelector('.activity').textContent
                });
            });
            
            const date = new Date();
            date.setTime(date.getTime() + (7 * 24 * 60 * 60 * 1000)); // Expire 7 hari
            document.cookie = `scheduleEntries=${JSON.stringify(entries)}; expires=${date.toUTCString()}; path=/`;
        }

        function loadFromCookie() {
            const cookieValue = document.cookie
                .split('; ')
                .find(row => row.startsWith('scheduleEntries='))
                ?.split('=')[1];
                
            if (cookieValue) {
                JSON.parse(decodeURIComponent(cookieValue)).forEach(entry => {
                    createEntry(entry.time, entry.activity);
                });
            }
        }

        function createEntry(time, activity) {
            const entry = document.createElement('div');
            entry.className = 'entry-row';
            entry.innerHTML = `
                <div class="time">${time}</div>
                <div class="activity">${activity}</div>
            `;
            
            addDeleteButton(entry);
            entriesContainer.appendChild(entry);
        }

        function addDeleteButton(entry) {
            const deleteBtn = document.createElement('button');
            deleteBtn.className = 'delete-btn';
            deleteBtn.innerHTML = '<i class="fas fa-trash"></i> Hapus';
            deleteBtn.onclick = () => {
                entry.remove();
                saveToCookie();
            };
            entry.appendChild(deleteBtn);
        }

        document.addEventListener('DOMContentLoaded', loadFromCookie);

        form.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const time = document.getElementById('timeInput').value;
            const activity = document.getElementById('activityInput').value;

            if (time && activity) {
                createEntry(formatTime(time), activity);
                form.reset();
                saveToCookie();
            }
        });

        function formatTime(timeString) {
            const [hours, minutes] = timeString.split(':');
            return `${hours}:${minutes}`;
        }

        function takeScreenshot() {
            html2canvas(document.querySelector('.container'), {
                scale: 2,
                useCORS: true,
                logging: true,
                allowTaint: false,
                backgroundColor: null
            }).then(canvas => {
                const link = document.createElement('a');
                link.download = 'daily-schedule.png';
                link.href = canvas.toDataURL('image/png', 1.0);
                link.click();
            });
        }
    </script>
</body>
</html> 